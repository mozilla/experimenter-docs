<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-deep-dives/desktop/desktop-incident-response" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Launching Incident Response Pref Flips | Experimenter Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://experimenter.info/desktop-incident-response"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Launching Incident Response Pref Flips | Experimenter Docs"><meta data-rh="true" name="description" content="As of Firefox 129 (and 128.2 ESR), Firefox supports flipping any pref via"><meta data-rh="true" property="og:description" content="As of Firefox 129 (and 128.2 ESR), Firefox supports flipping any pref via"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://experimenter.info/desktop-incident-response"><link data-rh="true" rel="alternate" href="https://experimenter.info/desktop-incident-response" hreflang="en"><link data-rh="true" rel="alternate" href="https://experimenter.info/desktop-incident-response" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.5dfa870c.css">
<link rel="preload" href="/assets/js/runtime~main.76e93d77.js" as="script">
<link rel="preload" href="/assets/js/main.05e73dba.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Experimenter Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo-dark.svg" alt="Experimenter Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Mozilla Experimentation and Feature Delivery</b></a></div><div class="navbar__items navbar__items--right"><a href="https://experimenter.services.mozilla.com/nimbus/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Nimbus<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://mozilla-hub.atlassian.net/wiki/spaces/PXI/pages/426934273/Nimbus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Confluence<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/mozilla/experimenter-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/">Welcome</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/whats-news/2024-Q1">What&#x27;s Newsletter</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/access">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/workflow/overview">Experimentation Workflow</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/deep-dives/jetstream/overview">Deep Dives</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/deep-dives/jetstream/overview">Jetstream</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/bucketing">Data topics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/desktop-enroll-locally">Desktop topics</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/desktop-enroll-locally">Desktop Local Experiment Iteration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/desktop-incident-response">Launching Incident Response Pref Flips</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/desktop-pref-experiments">Running Pref-setting Experiments on Desktop</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/desktop-targeting-debug">Desktop Targeting debug</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/mobile-behavioral-targeting">Mobile topics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/deep-dives/experimenter/branches-page">Experimenter topics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/client-sdk-states-and-lifecycle">Specifications</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cookbook/fml/fml-cookbook">Experimentation Cookbook</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/faq/general-faq">FAQ</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/glossary">Glossary</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/integration-tests">Additional Links</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Deep Dives</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Desktop topics</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Launching Incident Response Pref Flips</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Launching Incident Response Pref Flips</h1></header><p>As of Firefox 129 (and 128.2 ESR), Firefox supports flipping any pref via
Nimbus. This is done with the <code>prefFlips</code> feature. The JSON Schema definition
for the feature value can be found <a href="https://searchfox.org/mozilla-central/source/toolkit/components/nimbus/schemas/PrefFlipsFeature.schema.json" target="_blank" rel="noopener noreferrer">here</a>.</p><h1>Warning</h1><p>This feature is <em>not intended for use in experimentation</em>. If you want to do an
experiment on some number of prefs in Firefox, you <strong>must</strong> register these prefs
with the <a href="https://searchfox.org/mozilla-central/source/toolkit/components/nimbus/FeatureManifest.yaml" target="_blank" rel="noopener noreferrer">Feature Manifest</a>. This ensures that prefs
controlled via Nimbus are subject to code review. See the docs on <a href="/desktop-pref-experiments">Desktop pref
experiments</a> for more information.</p><p>Because the incident response feature can change <em>any pref</em>, it should be used
with caution. Remember: with great power comes great responsibility.</p><p>Only the release management team can approve incident reponse pref flips.</p><h1>Behaviour</h1><p>When a client enrolls into an experiment/rollout using this feature, Nimbus will
set (or unset) all the prefs to the values specified. Prefs on the <code>user</code> branch
will persist through startup and be available immediately. Prefs set on the
<code>default</code> branch will not persist through startup and will not have their
correct values until Nimbus finishes initialization.</p><p>When the client unenrolls, all prefs will be restored to their values before
enrollment. If the pref did not exist before enrollment, it will be cleared if
it was set on the user branch. The default branch does not support clearing, so
the pref and its value from the enrollment will persist until the browser
closes.</p><p>If the client is enrolled in both an experiment and a rollout then only the
experiment will take effect. This behaviour is likely to change once multiple
enrollment support is added to desktop.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="multi-feature">Multi-feature<a href="#multi-feature" class="hash-link" aria-label="Direct link to Multi-feature" title="Direct link to Multi-feature">​</a></h2><p>The incident response feature <em>cannot</em> be used with other features.</p><h1>Launching a Pref Flip</h1><ol><li><p>Create a new experiment in
<a href="https://experimenter.services.mozilla.com/nimbus/" target="_blank" rel="noopener noreferrer">Experimenter</a> with an
appropriate public name (this will appear in <code>about:studies</code>) for Firefox
Desktop.</p></li><li><p>Fill in the &quot;overview&quot; page as appropriate.</p></li><li><p>Fill in the &quot;branches&quot; page:</p><ol><li><p>Select the <code>prefFlips</code> feature.</p></li><li><p>Check the &quot;This is a rollout (single branch)&quot; checkbox.</p><p>This is not strictly required, but rollout enrollment can be dialed up or
down without requiring ending the experiment and re-launching. If you do
not want to use a rollout so that you can set different prefs on different
branches you likely want to run an experiment, in which case this feature
is not appropriate for your use case.</p></li><li><p>Enter a description for the &quot;Control&quot; branch.</p></li><li><p>Enter a value for the <code>prefFlips</code> (see the <a href="#example-configuration">example configuration</a>).</p></li></ol></li><li><p>Fill in the &quot;Audience&quot; page:</p><dl><dt>channel</dt><dd>You must specify a channel to use this feature. If you want to change a pref across multiple channels you must repeat this process for each channel.</dd><dt>Min Version</dt><dd>You must specify a minimum version. The minimum versions supported are 129 on the Nightly, Beta, Aurora (developer edition), and Release channel and 128.2 on the ESR channel.</dd><dt>Advanced Targeting</dt><dd><p>If you want to enroll the entire population, choose &quot;No Targeting - All users&quot;. Otherwise, select an appropriate targeting criteria.</p><p>If a targeting criteria does not exist, one will have to be added. See the <a href="/targeting/advanced-targeting#answer">advanced targeting FAQ</a> or ask for help in <code>#ask-experimenter</code> on Slack.</p></dd><dt>Sticky Enrollment</dt><dd><p>Experiment targeting is re-evaluated every time the client checks for new recipes. If you want the selected advanced targeting to only be evaluated during enrollment, check this box.</p><p><strong>Note:</strong> Rollouts can re-enroll after unenrolling (e.g., if enrollment percentage decreased and then increased). In these cases, rollouts will re-evaluate targeting, ignoring the sticky flag.</p></dd><dt>Percent of Clients</dt><dd>Enter the percent of clients you wish to enroll. This value can be changed after launch for rollouts.</dd></dl></li><li><p>On the Summary Page, request launch.</p><p>Experiments and rollouts using the incident response feature cannot be
launched to preview. We highly reccomend you QA these recipes on the <a href="https://stage.experimenter.nonprod.dataops.mozgcp.net/nimbus/" target="_blank" rel="noopener noreferrer">staging
instance of experimenter</a> first.</p><p><strong>Note:</strong> Experimenter may report errors with your recipe configuration. You
must fix them before requesting launch. Ask in <code>#ask-experimenter</code> on Slack.</p></li><li><p>Ask release management to approve and launch the rollout.</p><p><strong>Note:</strong> If you are a member of release management, you must get <em>another</em>
member to to approve and launch. Experimenter requires a 2 person sign-off to
launch experiments: the person who requests the launch cannot be the person
who approves it.</p></li></ol><a id="example-configuration"></a><h1>Example Configuration</h1><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;prefs&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;the.pref.to.set&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;branch&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;user&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;value&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;hello world&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;another.pref.to.set&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;branch&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;default&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;value&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;unset.this.pref&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;branch&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;user&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;value&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token null keyword" style="font-style:italic">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>Causes of Unenrollment</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mismatched-types">Mismatched Types<a href="#mismatched-types" class="hash-link" aria-label="Direct link to Mismatched Types" title="Direct link to Mismatched Types">​</a></h2><p>If you attempt to set a pref to a value of the wrong type, the pref will fail to
set. This will cause the enrollment to end.
This will result in a unenrollment event
(<a href="https://dictionary.telemetry.mozilla.org/apps/firefox_desktop/metrics/nimbus_events_unenrollment" target="_blank" rel="noopener noreferrer">glean</a>, <a href="https://probes.telemetry.mozilla.org/?search=unenroll&amp;view=detail&amp;probeId=event%2Fnormandy.unenroll%23unenroll" target="_blank" rel="noopener noreferrer">legacy</a>) being submitted with the
following data:</p><table><thead><tr><th>Glean Field</th><th>Legacy Field</th><th>Description</th></tr></thead><tbody><tr><td><code>reason</code></td><td><code>reason</code></td><td>The string <code>&quot;prefFlips-failed&quot;</code></td></tr><tr><td><code>pref_name</code></td><td><code>prefName</code></td><td>The pref that that failed to set.</td></tr><tr><td><code>pref_type</code></td><td><code>prefType</code></td><td>The type of the existing pref.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conflicts-with-setpref-experiments">Conflicts with setPref Experiments<a href="#conflicts-with-setpref-experiments" class="hash-link" aria-label="Direct link to Conflicts with setPref Experiments" title="Direct link to Conflicts with setPref Experiments">​</a></h2><p>If a user is enrolled in a incident response pref flip and then enrolls in a
<a href="/desktop-pref-experiments">setPref</a> experiment that changes the same prefs, they will be unenrolled from
the incident response rollout. This will result in a unenrollment event
(<a href="https://dictionary.telemetry.mozilla.org/apps/firefox_desktop/metrics/nimbus_events_unenrollment" target="_blank" rel="noopener noreferrer">glean</a>, <a href="https://probes.telemetry.mozilla.org/?search=unenroll&amp;view=detail&amp;probeId=event%2Fnormandy.unenroll%23unenroll" target="_blank" rel="noopener noreferrer">legacy</a>) being submitted with the
following data:</p><table><thead><tr><th>Glean Field</th><th>Legacy Field</th><th>Description</th></tr></thead><tbody><tr><td><code>reason</code></td><td><code>reason</code></td><td>The string <code>&quot;prefFlips-conflict&quot;</code></td></tr><tr><td><code>conflicting_slug</code></td><td><code>conflictingSlug</code></td><td>The slug of the experiment that caused the unenrollment.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="user-pref-changes">User Pref Changes<a href="#user-pref-changes" class="hash-link" aria-label="Direct link to User Pref Changes" title="Direct link to User Pref Changes">​</a></h2><p>If a pref that is controlled by an incident response rollout is changed, either
by the user or client code, the client will be unenrolled. This will result in an
unenrollment event (<a href="https://dictionary.telemetry.mozilla.org/apps/firefox_desktop/metrics/nimbus_events_unenrollment" target="_blank" rel="noopener noreferrer">glean</a>, <a href="https://probes.telemetry.mozilla.org/?search=unenroll&amp;view=detail&amp;probeId=event%2Fnormandy.unenroll%23unenroll" target="_blank" rel="noopener noreferrer">legacy</a>) being
submitted with the following data:</p><table><thead><tr><th>Glean Field</th><th>Legacy Field</th><th>Description</th></tr></thead><tbody><tr><td><code>reason</code></td><td><code>reason</code></td><td>The string <code>&quot;changed-pref&quot;</code></td></tr><tr><td><code>changed_pref</code></td><td><code>changedPref</code></td><td>The pref that triggered the unenrollment.</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/mozilla/experimenter-docs/edit/main/docs/deep-dives/desktop/desktop-incident-response.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/desktop-enroll-locally"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Desktop Local Experiment Iteration</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/desktop-pref-experiments"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Running Pref-setting Experiments on Desktop</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#multi-feature" class="table-of-contents__link toc-highlight">Multi-feature</a></li><li><a href="#mismatched-types" class="table-of-contents__link toc-highlight">Mismatched Types</a></li><li><a href="#conflicts-with-setpref-experiments" class="table-of-contents__link toc-highlight">Conflicts with setPref Experiments</a></li><li><a href="#user-pref-changes" class="table-of-contents__link toc-highlight">User Pref Changes</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Mozilla Corporation</div></div></div></footer></div>
<script src="/assets/js/runtime~main.76e93d77.js"></script>
<script src="/assets/js/main.05e73dba.js"></script>
</body>
</html>