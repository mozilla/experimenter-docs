"use strict";(globalThis.webpackChunkexperimenter_docs=globalThis.webpackChunkexperimenter_docs||[]).push([[3606],{5680(e,t,n){n.d(t,{xA:()=>f,yg:()=>p});var a=n(6540);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},f=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,f=l(e,["components","mdxType","originalType","parentName"]),m=u(n),p=r,d=m["".concat(s,".").concat(p)]||m[p]||c[p]||i;return n?a.createElement(d,o(o({ref:t},f),{},{components:n})):a.createElement(d,o({ref:t},f))}));function p(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var u=2;u<i;u++)o[u]=n[u];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6577(e,t,n){n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>u});var a=n(8168),r=(n(6540),n(5680));const i={title:"Feature Definition",slug:"/technical-reference/feature-definition",sidebar_position:2},o=void 0,l={unversionedId:"technical-reference/feature-definition",id:"technical-reference/feature-definition",title:"Feature Definition",description:"In the experimentation ecosystem, experiment surfaces are described as features. A feature is an area of code instrumented with telemetry and accessible for remote configuration. It can be as small as a single function or as complex as a whole page. Some examples:",source:"@site/docs/technical-reference/feature-definition.md",sourceDirName:"technical-reference",slug:"/technical-reference/feature-definition",permalink:"/technical-reference/feature-definition",draft:!1,editUrl:"https://github.com/mozilla/experimenter-docs/edit/main/docs/technical-reference/feature-definition.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Feature Definition",slug:"/technical-reference/feature-definition",sidebar_position:2},sidebar:"sidebar",previous:{title:"Ending",permalink:"/workflow/ending"},next:{title:"Feature API",permalink:"/platform-guides/desktop/feature-api"}},s={},u=[{value:"To define your feature in the feature manifest file",id:"to-define-your-feature-in-the-feature-manifest-file",level:2},{value:"To test your feature",id:"to-test-your-feature",level:2}],f={toc:u};function c(e){let{components:t,...n}=e;return(0,r.yg)("wrapper",(0,a.A)({},f,n,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("p",null,"In the experimentation ecosystem, experiment surfaces are described as features. A feature is an area of code instrumented with telemetry and accessible for remote configuration. It can be as small as a single function or as complex as a whole page. Some examples:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"aboutwelcome: The about:welcome page in Desktop\nhomescreen: The homescreen page in Fenix\ntabTrayFeature: The tab tray in Firefox iOS\n")),(0,r.yg)("p",null,"Features are defined in a Feature Manifest file for the application, and the client code uses the Nimbus SDK to access variables associated with those features."),(0,r.yg)("p",null,"After landing a new feature in ",(0,r.yg)("inlineCode",{parentName:"p"},"mozilla-central")," and before doing an Experiment or Rollout using it, it is recommended to go through QA to provide an extra layer of stability and possibly be informed of certain limitations that could exist with the feature. See ",(0,r.yg)("strong",{parentName:"p"},"To test your feature")," for information on how to involve QA. "),(0,r.yg)("h2",{id:"to-define-your-feature-in-the-feature-manifest-file"},"To define your feature in the feature manifest file"),(0,r.yg)("p",null,"First, look at what is already defined in the manifest file:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://searchfox.org/mozilla-central/source/toolkit/components/nimbus/FeatureManifest.yaml"},"Desktop")),(0,r.yg)("li",{parentName:"ul"},"Mobile",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/mozilla-mobile/firefox-android/blob/main/fenix/app/nimbus.fml.yaml"},"Fenix (Firefox Android)")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/mozilla-mobile/firefox-android/blob/main/focus-android/app/nimbus.fml.yaml"},"Focus Android")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/mozilla-mobile/firefox-ios/blob/main/nimbus.fml.yaml"},"Firefox iOS")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/mozilla-mobile/focus-ios/blob/main/nimbus.fml.yaml"},"Focus iOS"))))),(0,r.yg)("h2",{id:"to-test-your-feature"},"To test your feature"),(0,r.yg)("p",null,"Starting with 2023, the Ecosystem QA team has begun to test all the available Desktop Nimbus Features and their configurations. This is done in an attempt to ease testing on future experiments using a feature config (old or new) and to provide a baseline health report for it. "),(0,r.yg)("p",null,"For engineers looking to test a new config: "),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"See ",(0,r.yg)("a",{parentName:"li",href:"https://docs.google.com/document/d/1oz1YyaaBI-oHUDsktWA-dLtX7WzhYqs7C121yOPKo2w/edit"},"this document")," for steps on how to file a QA request. When logging the ticket, please use the ",(0,r.yg)("inlineCode",{parentName:"li"},"Feature-Configuration")," label in JIRA to mark it as such. ",(0,r.yg)("a",{parentName:"li",href:"https://mozilla-hub.atlassian.net/browse/QA-1785"},"Example"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"If you have documentation regarding the feature\u2019s configuration capabilities, please link it to the QA ticket as this helps with Test Plan and Test Case creation.      "))),(0,r.yg)("li",{parentName:"ul"},"The most commonly QA asked questions for feature configs are:",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"What specific functionality is enabled in the browser and how exactly could we see it in action?"),(0,r.yg)("li",{parentName:"ul"},"Are there any exposed user preferences in about:preferences when using the feature?"),(0,r.yg)("li",{parentName:"ul"},"If the feature has an ",(0,r.yg)("inlineCode",{parentName:"li"},"exposure")," event, when does it trigger?"),(0,r.yg)("li",{parentName:"ul"},"Does the feature have specific telemetry events and which telemetry data pipeline are we using? Legacy or Glean?")))))}c.isMDXComponent=!0}}]);