"use strict";(globalThis.webpackChunkexperimenter_docs=globalThis.webpackChunkexperimenter_docs||[]).push([[7011],{5680(e,t,a){a.d(t,{xA:()=>h,yg:()=>m});var n=a(6540);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var s=n.createContext({}),u=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},h=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,h=i(e,["components","mdxType","originalType","parentName"]),d=u(a),m=o,f=d["".concat(s,".").concat(m)]||d[m]||p[m]||r;return a?n.createElement(f,l(l({ref:t},h),{},{components:a})):n.createElement(f,l({ref:t},h))}));function m(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,l=new Array(r);l[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:o,l[1]=i;for(var u=2;u<r;u++)l[u]=a[u];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},9561(e,t,a){a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>u});var n=a(8168),o=(a(6540),a(5680));const r={id:"rollouts-faq",title:"Rollouts",slug:"/faq/rollouts",sidebar_position:3},l=void 0,i={unversionedId:"faq/rollouts-faq",id:"faq/rollouts-faq",title:"Rollouts",description:"Common questions about rollout management, sizing, and interaction with experiments.",source:"@site/docs/faq/rollouts-faq.mdx",sourceDirName:"faq",slug:"/faq/rollouts",permalink:"/faq/rollouts",draft:!1,editUrl:"https://github.com/mozilla/experimenter-docs/edit/main/docs/faq/rollouts-faq.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{id:"rollouts-faq",title:"Rollouts",slug:"/faq/rollouts",sidebar_position:3},sidebar:"sidebar",previous:{title:"Experiment Lifecycle",permalink:"/faq/experiment-lifecycle"},next:{title:"Firefox Labs",permalink:"/faq/firefox-labs"}},s={},u=[{value:"Can a client be in a rollout and an experiment for the same feature at the same time?",id:"can-a-client-be-in-a-rollout-and-an-experiment-for-the-same-feature-at-the-same-time",level:2},{value:"What happens when an experiment and rollout are on the same feature, and the experiment ends?",id:"what-happens-when-an-experiment-and-rollout-are-on-the-same-feature-and-the-experiment-ends",level:2},{value:"How do I decide when to end a rollout?",id:"how-do-i-decide-when-to-end-a-rollout",level:2},{value:"How quickly can I get to 100% with a staged rollout?",id:"how-quickly-can-i-get-to-100-with-a-staged-rollout",level:2},{value:"How long should I wait for feature saturation before ending a rollout?",id:"how-long-should-i-wait-for-feature-saturation-before-ending-a-rollout",level:2}],h={toc:u};function p(e){let{components:t,...a}=e;return(0,o.yg)("wrapper",(0,n.A)({},h,a,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("p",null,"Common questions about rollout management, sizing, and interaction with experiments."),(0,o.yg)("hr",null),(0,o.yg)("h2",{id:"can-a-client-be-in-a-rollout-and-an-experiment-for-the-same-feature-at-the-same-time"},"Can a client be in a rollout and an experiment for the same feature at the same time?"),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Yes"),", we have separate namespaces which means you can run rollouts and experiments simultaneously and each namespace does its\naccounting for users separately.\nYou can run a 100% rollout and a 5% experiment and both will fill up, but everyone in the experiment is also in the rollout."),(0,o.yg)("hr",null),(0,o.yg)("h2",{id:"what-happens-when-an-experiment-and-rollout-are-on-the-same-feature-and-the-experiment-ends"},"What happens when an experiment and rollout are on the same feature, and the experiment ends?"),(0,o.yg)("p",null,"Typically users will see the experiment applied, and then get the rollout treatment when that ends with a small delay to re-evaluate."),(0,o.yg)("p",null,"If both the experiment and the rollout are focused on the same feature, ",(0,o.yg)("strong",{parentName:"p"},"the experiment will take precedence")," and in this case the behavior will be seeing the experiment, when that ends the client will unenroll, then upon next recipe evaluation will join the rollout."),(0,o.yg)("p",null,'UNLESS the feature is mobile messaging, in that case while both are running, an experiment client with actually be enrolled in both and the treatment they\'ll receive will be the combination of both. This enables clients in subsequent experiments to easily get rolled out winners of prior experiments.  If they\'re focused on different fields of the JSON, the behavior the clients gets will go from "experiment+rollout" to "rollout only".'),(0,o.yg)("hr",null),(0,o.yg)("h2",{id:"how-do-i-decide-when-to-end-a-rollout"},"How do I decide when to end a rollout?"),(0,o.yg)("p",null,"ex: I have a feature that is now on by default in v115, and I want to wait until it has saturated the user base before shutting off the rollout. Do we have a standard around how long we should keep a rollout going in a situation like this?\nWe typically wait 1-3 releases for the upgrade tail to catch up. You'll probably have the vast majority, so it just depends on the ramifications if people have it enabled on 114 and then lose it."),(0,o.yg)("p",null,"If it's ",(0,o.yg)("strong",{parentName:"p"},"not")," a big deal if the feature goes away, turn off the rollout in the next release.  People who haven't yet upgraded will lose the feature until they upgrade."),(0,o.yg)("p",null,"If it ",(0,o.yg)("strong",{parentName:"p"},"is")," a big deal for the feature to go away (think UX changes or bug fixes) - turn off in 117 or 118 and you'll have reached a few percent more with each release."),(0,o.yg)("p",null,"If it is a very big deal - we sometimes leave those running for 6 months or so to hit maximum reach.  Please remember to set a reminder appointment to people on your team so someone remembers and doesn't leave it on forever."),(0,o.yg)("hr",null),(0,o.yg)("h2",{id:"how-quickly-can-i-get-to-100-with-a-staged-rollout"},"How quickly can I get to 100% with a staged rollout?"),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Your sizing steps")," are a balance of:"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"how many users do you need to gain confidence to go to the next step?"),(0,o.yg)("li",{parentName:"ul"},"How big of a step are you comfortable with?")),(0,o.yg)("p",null,"Some common patterns are:"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Low risk:  5, 10, 50,100 (the steps may be bigger if only a fraction of the populatio will use the feature)"),(0,o.yg)("li",{parentName:"ul"},"Med risk: 1, 5, 10, 25, 75, 100"),(0,o.yg)("li",{parentName:"ul"},"High risk or scaling risk: .5, 1, 5, 10, 25, 50, 75, 100 (ex: you are worried about too many people using a back end server at once, and want to test small capacity loads)")),(0,o.yg)("p",null,"The first step is usually the one where issues are discovered.  It's easy to stop the rollout, land fixes, and start again with a higher minimum version (after the fixes have landed)."),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"The speed you increase")," is based on:"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"What are you observing to decide you are OK moving forward?"),(0,o.yg)("li",{parentName:"ul"},"How long will it take to see those changes?")),(0,o.yg)("p",null,"Some common patterns are:"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Fast:  2 days, 7 days, 10 days (ex: a frequently used feature, where the telemetry exists for your team to easily see issues)"),(0,o.yg)("li",{parentName:"ul"},"Med: 1 week, 2 week, 3 week"),(0,o.yg)("li",{parentName:"ul"},"Slow: 2 week, 4 weeks, 6 weeks (ex: it takes users a while to use the feature or looking at revenue or other indirect impacts)")),(0,o.yg)("hr",null),(0,o.yg)("h2",{id:"how-long-should-i-wait-for-feature-saturation-before-ending-a-rollout"},"How long should I wait for feature saturation before ending a rollout?"),(0,o.yg)("p",null,"I have a feature that is now ",(0,o.yg)("strong",{parentName:"p"},"on by default")," in v115, and I want to wait until it has saturated the user base before shutting off the rollout. Do we have a standard around how long we should keep a rollout going in a situation like this?\n",(0,o.yg)("strong",{parentName:"p"},"Yes"),", we typically wait 1-3 releases for the upgrade tail to catch up. You'll probably have the vast majority, so it just depends on the ramifications if people have it enabled on 114 and then lose it."),(0,o.yg)("p",null,"If it's ",(0,o.yg)("strong",{parentName:"p"},"not")," a big deal, turn off the rollout in 116 and most people will have it and the stragglers will get it when they upgrade.  If it ",(0,o.yg)("strong",{parentName:"p"},"is")," a big deal - turn off in 117 or 118 and you'll have reached a few percent more with each release."))}p.isMDXComponent=!0}}]);