"use strict";(globalThis.webpackChunkexperimenter_docs=globalThis.webpackChunkexperimenter_docs||[]).push([[6641],{5680(e,t,n){n.d(t,{xA:()=>m,yg:()=>d});var r=n(6540);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},m=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,l=e.originalType,s=e.parentName,m=i(e,["components","mdxType","originalType","parentName"]),c=p(n),d=o,g=c["".concat(s,".").concat(d)]||c[d]||u[d]||l;return n?r.createElement(g,a(a({ref:t},m),{},{components:n})):r.createElement(g,a({ref:t},m))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var l=n.length,a=new Array(l);a[0]=c;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:o,a[1]=i;for(var p=2;p<l;p++)a[p]=n[p];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},9869(e,t,n){n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>p});var r=n(8168),o=(n(6540),n(5680));const l={id:"local-enrollment",title:"Local Enrollment",slug:"/resources/local-enrollment"},a=void 0,i={unversionedId:"resources/local-enrollment",id:"resources/local-enrollment",title:"Local Enrollment",description:"How to set up a local development environment for testing Nimbus experiments on Desktop and Mobile.",source:"@site/docs/resources/local-enrollment.md",sourceDirName:"resources",slug:"/resources/local-enrollment",permalink:"/resources/local-enrollment",draft:!1,editUrl:"https://github.com/mozilla/experimenter-docs/edit/main/docs/resources/local-enrollment.md",tags:[],version:"current",frontMatter:{id:"local-enrollment",title:"Local Enrollment",slug:"/resources/local-enrollment"},sidebar:"sidebar",previous:{title:"Foxfooding",permalink:"/resources/foxfooding"},next:{title:"What's Newsletter Q1",permalink:"/whats-news/2024-Q1"}},s={},p=[{value:"Desktop",id:"desktop",level:2},{value:"Instructions for Nimbus",id:"instructions-for-nimbus",level:2},{value:"Mobile",id:"mobile",level:2}],m={toc:p};function u(e){let{components:t,...n}=e;return(0,o.yg)("wrapper",(0,r.A)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("p",null,"How to set up a local development environment for testing Nimbus experiments on Desktop and Mobile."),(0,o.yg)("h2",{id:"desktop"},"Desktop"),(0,o.yg)("p",null,"Preferences to set in Firefox"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("inlineCode",{parentName:"li"},"nimbus.debug"),": ",(0,o.yg)("inlineCode",{parentName:"li"},"True")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("inlineCode",{parentName:"li"},"app.normandy.run_interval_seconds"),": 30"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("inlineCode",{parentName:"li"},"services.settings.server"),": ",(0,o.yg)("inlineCode",{parentName:"li"},"http://localhost:8888/v1"))),(0,o.yg)("p",null,"Note: You can also use the ",(0,o.yg)("a",{parentName:"p",href:"https://github.com/mozilla-extensions/remote-settings-devtools"},"remote-settings-devtools")," add-on to control some of these but the ",(0,o.yg)("inlineCode",{parentName:"p"},"app.normandy.run_interval_seconds")," preference must still be set."),(0,o.yg)("h2",{id:"instructions-for-nimbus"},"Instructions for Nimbus"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},"Set the above preferences within Firefox"),(0,o.yg)("li",{parentName:"ol"},"Create a desktop experiment with the following settings",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"A desktop feature"),(0,o.yg)("li",{parentName:"ul"},"No advanced targeting"),(0,o.yg)("li",{parentName:"ul"},"All Locales"),(0,o.yg)("li",{parentName:"ul"},"All Regions"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("inlineCode",{parentName:"li"},"Percent of clients"),": 100%"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("inlineCode",{parentName:"li"},"Expected Number of Clients"),": 1 (or any number above 0)"))),(0,o.yg)("li",{parentName:"ol"},"Request Launch and Approve the experiment in Remote Settings"),(0,o.yg)("li",{parentName:"ol"},"Open the Browser Console to view the logs from ",(0,o.yg)("inlineCode",{parentName:"li"},"RSLoader")," (",(0,o.yg)("inlineCode",{parentName:"li"},"RemoteSettingsExperimentLoader.sys.mjs"),")")),(0,o.yg)("p",null,"There should be log outputs of the RSLoader reading from remote settings and showing the JEXL evaluations being attempted. Eventually the experiment you created should be loaded and evaluated. If you are enrolled into a study with the same feature, the new experiment will not be allowed to enroll.\n5. Check ",(0,o.yg)("inlineCode",{parentName:"p"},"about:telemetry")," for an event that looks like this"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Enrollment",(0,o.yg)("pre",{parentName:"li"},(0,o.yg)("code",{parentName:"pre"},"normandy  enroll    nimbus_experiment <name-of-experiment>\n"))),(0,o.yg)("li",{parentName:"ul"},"Unenrollment",(0,o.yg)("pre",{parentName:"li"},(0,o.yg)("code",{parentName:"pre"},"normandy  unenroll  nimbus_experiment <name-of-experiment>\n")))),(0,o.yg)("h2",{id:"mobile"},"Mobile"),(0,o.yg)("p",null,"Coming soon!"))}u.isMDXComponent=!0}}]);