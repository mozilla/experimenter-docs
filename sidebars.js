module.exports = {
  sidebar: [
    // ============================================
    // WELCOME
    // ============================================
    {
      type: "category",
      label: "Welcome",
      items: [
        "homepage/intro",
        "homepage/capabilities",
        "homepage/finding-help"
      ]
    },

    // ============================================
    // GETTING STARTED (Role-based)
    // ============================================
    {
      type: "category",
      label: "Getting Started",
      items: [
        "getting-started/for-product",
        "workflow/implementing/experiment-owners",
        "getting-started/data-scientists/overview",
        "getting-started/engineers/for-engineers",
        "getting-started/access",
        "getting-started/for-leadership",
        "getting-started/contributing"
      ]
    },

    // ============================================
    // EXPERIMENT WORKFLOW
    // ============================================
    {
      type: "category",
      label: "Experiment Workflow",
      items: [
        "workflow/overview",
        {
          type: "category",
          label: "Designing",
          items: [
            "workflow/designing/designing",
            "advanced/rollouts-deep-dive"
          ]
        },
        {
          type: "category",
          label: "Configuring",
          items: [
            "workflow/configuring/configuring",
            "workflow/designing/localization-process"
          ]
        },
        {
          type: "category",
          label: "Testing & QA",
          items: [
            "workflow/testing/testing-on-mobile",
            "platform-guides/desktop/desktop-feature-api-testing",
            "platform-guides/android/android-preview-testing",
            "platform-guides/ios/ios-preview-testing"
          ]
        },
        {
          type: "category",
          label: "Risk Mitigation & Sign-offs",
          items: [
            {
              type: 'autogenerated',
              dirName: "workflow/implementing/risk-mitigation"
            }
          ]
        },
        {
          type: "category",
          label: "Launching",
          items: [
            "workflow/launching/launching"
          ]
        },
        {
          type: "category",
          label: "Monitoring",
          items: [
            "workflow/monitoring/monitoring"
          ]
        },
        {
          type: "category",
          label: "Analyzing",
          items: [
            "workflow/analyzing/analyzing"
          ]
        },
        {
          type: "category",
          label: "Ending",
          items: [
            "workflow/ending/ending"
          ]
        }
      ]
    },

    // ============================================
    // PLATFORM IMPLEMENTATION GUIDES
    // ============================================
    {
      type: "category",
      label: "Platform Implementation Guides",
      items: [
        {
          type: "category",
          label: "Feature Definition",
          items: [
            "technical-reference/feature-definition",
            {
              type: "category",
              label: "Desktop",
              items: [
                "platform-guides/desktop/desktop-feature-api",
                "platform-guides/desktop/desktop-pref-experiments",
                "workflow/implementing/desktop-onboarding/onboarding-feature-desktop"
              ]
            },
            {
              type: "category",
              label: "Mobile/Web",
              items: [
                {
                  type: "category",
                  label: "Feature Manifest Language (FML)",
                  items: [
                    "technical-reference/fml/fml-spec",
                    "technical-reference/fml/fml-cookbook",
                    "technical-reference/fml/fml-front-end-format",
                    "technical-reference/fml/fml-string-alias",
                    "technical-reference/fml/fml-paths",
                    "technical-reference/fml/fml-imports",
                    "technical-reference/fml/fml-cli",
                    "technical-reference/fml/coenrolling-features",
                    "technical-reference/fml/feature-metadata",
                    "technical-reference/fml/using-prefs",
                    "technical-reference/fml/growable-collections",
                    "technical-reference/fml/fm-unimplemented-spec"
                  ]
                },
                "platform-guides/android/getting-started-mobile-required-ui",
                "advanced/feature-variables",
                "advanced/branches-page-deep-dive"
              ]
            }
          ]
        },
        {
          type: "category",
          label: "Targeting",
          items: [
            "advanced/custom-audiences",
            "advanced/population-sizing",
            {
              type: "category",
              label: "Platform-Specific Targeting",
              items: [
                "platform-guides/desktop/desktop-targeting-debug",
                "platform-guides/android/android-custom-targeting",
                "platform-guides/ios/ios-custom-targeting"
              ]
            },
            {
              type: "category",
              label: "Advanced Targeting Topics",
              items: [
                "advanced/mobile-behavioral-targeting",
                "advanced/recording-targeting-context-values-to-glean"
              ]
            },
            {
              type: "category",
              label: "Targeting FAQ",
              items: [
                {
                  type: 'autogenerated',
                  dirName: "faq/targeting"
                }
              ]
            }
          ]
        },
        {
          type: "category",
          label: "Desktop (Firefox Desktop)",
          items: [
            "platform-guides/desktop/desktop-migration-guide",
            "platform-guides/desktop/preview",
            "platform-guides/desktop/desktop-incident-response",
            "platform-guides/desktop/desktop-enroll-locally"
          ]
        },
        {
          type: "category",
          label: "Android",
          items: [
            "platform-guides/android/getting-started-for-android-engineers",
            "platform-guides/android/onboarding-feature-android",
            "platform-guides/android/android-microsurveys"
          ]
        },
        {
          type: "category",
          label: "iOS",
          items: [
            "platform-guides/ios/getting-started-for-ios-engineers",
            "platform-guides/ios/onboarding-feature-ios",
            "platform-guides/ios/ios-microsurveys"
          ]
        },
        {
          type: "category",
          label: "Web (Cirrus)",
          items: [
            "platform-guides/web/getting-started-for-nimbus-web-integration"
          ]
        },
        {
          type: "category",
          label: "Mobile Tools - Nimbus CLI",
          items: [
            {
              type: 'autogenerated',
              dirName: "platform-guides/mobile-tools/nimbus-cli"
            }
          ]
        }
      ]
    },

    // ============================================
    // DATA & ANALYSIS
    // ============================================
    {
      type: "category",
      label: "Data & Analysis",
      items: [
        {
          type: "category",
          label: "Analysis",
          items: [
            "data-analysis/jetstream/overview",
            "data-analysis/jetstream/metrics",
            "data-analysis/jetstream/outcomes",
            "data-analysis/jetstream/statistics",
            "data-analysis/jetstream/configuration"
          ]
        },
        "data-analysis/experiment-sizing",
        "data-analysis/auto-sizing-cli",
        {
          type: "category",
          label: "Data Topics",
          items: [
            "data-analysis/data-topics/bucketing",
            "data-analysis/data-topics/sizing",
            "data-analysis/data-topics/missing_exposures",
            "data-analysis/data-topics/preenrollment_bias",
            "data-analysis/data-topics/population_representativeness",
            "data-analysis/telemetry",
            "data-analysis/validating-experiments"
          ]
        },
        {
          type: "category",
          label: "Jetstream Operations",
          items: [
            "data-analysis/jetstream/operations",
            "data-analysis/jetstream/testing",
            "data-analysis/jetstream/troubleshooting",
            "data-analysis/jetstream/data-products",
            "data-analysis/jetstream/adding-a-platform"
          ]
        },
        {
          type: "link",
          label: "Jetstream GitHub",
          href: "https://github.com/mozilla/jetstream"
        }
      ]
    },

    // ============================================
    // MESSAGING SYSTEM
    // ============================================
    {
      type: "category",
      label: "Messaging System",
      items: [
        "messaging/experiments-and-user-messaging",
        {
          type: "category",
          label: "Desktop Messaging",
          items: [
            {
              type: 'autogenerated',
              dirName: "messaging/desktop"
            }
          ]
        },
        "messaging/mobile-surveys"
      ]
    },

    // ============================================
    // ADVANCED TOPICS
    // ============================================
    {
      type: "category",
      label: "Advanced Topics",
      items: [
        "advanced/mobile-first-run-experiments",
        "advanced/mobile-enrollment-state-machine",
        "advanced/notificationse",
        "advanced/warnings",
        "advanced/experimenter-state"
      ]
    },

    // ============================================
    // TECHNICAL REFERENCE
    // ============================================
    {
      type: "category",
      label: "Technical Reference",
      items: [
        "technical-reference/system-architecture",
        "technical-reference/client-sdk-states-and-lifecycle",
        "technical-reference/integration-tests"
      ]
    },

    // ============================================
    // FAQ
    // ============================================
    {
      type: "category",
      label: "FAQ",
      items: [
        "faq/general-faq/general-faq",
        {
          type: "category",
          label: "Enrollment",
          items: [
            "faq/enrollment/experiment-enrollment"
          ]
        },
        {
          type: "category",
          label: "Exposure",
          items: [
            "faq/exposure/exposure-faq"
          ]
        },
        {
          type: "category",
          label: "Rollouts",
          items: [
            "faq/rollouts/rollouts-and-experiments",
            "faq/rollouts/sizing-rollouts",
            "faq/rollouts/saturation"
          ]
        },
        {
          type: "category",
          label: "Branches",
          items: [
            {
              type: 'autogenerated',
              dirName: "faq/branches"
            }
          ]
        },
        {
          type: "category",
          label: "Metrics",
          items: [
            {
              type: 'autogenerated',
              dirName: "faq/metrics"
            }
          ]
        },
        {
          type: "category",
          label: "Results",
          items: [
            {
              type: 'autogenerated',
              dirName: "faq/results"
            }
          ]
        },
        {
          type: "category",
          label: "Desktop",
          items: [
            {
              type: 'autogenerated',
              dirName: "faq/desktop"
            }
          ]
        },
        {
          type: "category",
          label: "Mobile",
          items: [
            {
              type: 'autogenerated',
              dirName: "faq/mobile"
            }
          ]
        },
        {
          type: "category",
          label: "Early Startup",
          items: [
            {
              type: 'autogenerated',
              dirName: "faq/early-startup"
            }
          ]
        },
        {
          type: "category",
          label: "Feature Restart",
          items: [
            {
              type: 'autogenerated',
              dirName: "faq/feature-restart"
            }
          ]
        },
        {
          type: "category",
          label: "Ending Experiments",
          items: [
            {
              type: 'autogenerated',
              dirName: "faq/ending-experiments"
            }
          ]
        },
        {
          type: "category",
          label: "Custom Configs",
          items: [
            {
              type: 'autogenerated',
              dirName: "faq/custom-configs"
            }
          ]
        },
        {
          type: "category",
          label: "Warnings",
          items: [
            {
              type: 'autogenerated',
              dirName: "faq/warnings"
            }
          ]
        }
      ]
    },

    // ============================================
    // RESOURCES
    // ============================================
    {
      type: "category",
      label: "Resources",
      items: [
        {
          type: "doc",
          label: "Glossary",
          id: "glossary"
        },
        "resources/nimbus-devtools-guide",
        "resources/foxfooding",
        "resources/local-enrollment",
        {
          type: "category",
          label: "What's New Archive",
          items: [
            {
              type: "category",
              label: "2024",
              items: [
                {
                  type: 'autogenerated',
                  dirName: "whats-news/2024"
                }
              ]
            },
            {
              type: "category",
              label: "2023",
              items: [
                {
                  type: 'autogenerated',
                  dirName: "whats-news/2023"
                }
              ]
            },
            {
              type: "category",
              label: "2022",
              items: [
                {
                  type: 'autogenerated',
                  dirName: "whats-news/2022"
                }
              ]
            },
            {
              type: "category",
              label: "2021",
              items: [
                {
                  type: 'autogenerated',
                  dirName: "whats-news/2021"
                }
              ]
            }
          ]
        }
      ]
    },

    // ============================================
    // EXTERNAL LINKS
    // ============================================
    {
      type: "category",
      label: "External Links",
      items: [
        {
          type: "link",
          label: "Experimenter Console (Production)",
          href: "https://experimenter.services.mozilla.com/nimbus/"
        },
        {
          type: "link",
          label: "Experimenter Console (Stage)",
          href: "https://stage.experimenter.nonprod.webservices.mozgcp.net/nimbus/"
        },
        {
          type: "link",
          label: "Experimenter GitHub Repo",
          href: "https://github.com/mozilla/experimenter"
        },
        {
          type: "link",
          label: "How to Launch a Nimbus Experiment",
          href: "https://mozilla-hub.atlassian.net/wiki/spaces/FJT/pages/11469776/Nimbus+Onboarding#NimbusOnboarding-LaunchingExperimentsusingNimbus!"
        },
        {
          type: "link",
          label: "Nimbus Data Transfer Object",
          href: "https://mozilla-hub.atlassian.net/wiki/spaces/FJT/pages/11469537/The+Nimbus+Data+Transfer+Object+DTO"
        },
        {
          type: "link",
          label: "Experiment Telemetry",
          href: "https://mozilla-hub.atlassian.net/wiki/spaces/FJT/pages/11469458/Nimbus+Engineering#NimbusEngineering-ExperimentTelemetry"
        },
        {
          type: "link",
          label: "Lessons Learned",
          href: "https://mozilla-hub.atlassian.net/wiki/spaces/FJT/pages/11470136/Lessons+Learned+-+Experiment+Incidents+and+Close+Calls"
        }
      ]
    }
  ]
};
